---
import IntoScreen from "./IntoScreen.astro";
---

<section class="bg-blue-300 relative">
  <div
    id="hero-title"
    class="items-center justify-center flex min-h-screen fixed inset-0 bg-transparent  "
  >
    <img id="img-log" src="/simpsons-title.svg" alt="" />
    <!-- Contenido que se verá a través de la máscara -->
  </div>

  <!-- Contenido adicional para crear scroll -->
   <!-- 1 -->
  <div
    id="scroll-content"
    class="min-h-[200vh] w-full relative opacity-0 "
  >
    <img
      src="/sofa.jpg"
      alt="sofa de los simpsons"
      class="fixed w-full h-auto object-cover"
    />

  </div>
  <!-- 2 -->
  <div
    id="bloque-into-screen"
    class="fixed inset-0 w-full min-h-screen"
  >
    <IntoScreen />
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);


  // configuración basica que uso con frecuencia para mi estrategia de scroll
  const tl = gsap.timeline({
    scrollTrigger: {
      trigger: "section",
      start: "top top",
      end: "bottom bottom",

      scrub: 1,
    },
  });

  // Ambas animaciones al mismo tiempo usando "<"
  tl.to("#img-log", { scale: 120, duration: 3 })
    .to("#img-log", { y: 4000, duration: 3 }, "<")
    .to("#img-log", { x: -800, duration: 3 }, "<")
    // aparece un segundo antes del final de la continuacion de la transicion
    .to("#scroll-content", { opacity: 1, duration: 0.2 }, "<0.3")
    // .to("#content-characters", { opacity: 1, duration: 0.5 }, "<0.4")
    .to("#card-1", { opacity: 1, y: -40, duration: 0.8 }, "<0.7") // Homer
    .to("#card-2", { opacity: 1, y: -40, duration: 0.8 }, "<1.1") // Marge
    .to("#card-3", { opacity: 1, y: -40, duration: 0.8 }, "<1.5") // Bart
    .to("#card-4", { opacity: 1, y: -40, duration: 0.8 }, "<1.9") // Lisa
    .to("#card-5", { opacity: 1, y: -40, duration: 0.8 }, "<2.3"); // Maggie
</script>

<style>
  #img-log {
    transform-origin: center center;
  }
</style>
